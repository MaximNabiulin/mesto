(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.data,o=e.templateSelector,i=e.handleCardClick,a=e.handleSetLike,u=e.handleRemoveLike,c=e.handleDeleteBtnClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=o,this._element=this._getTemplate(),this._currentUserId=n,this._handleCardClick=i,this._handleSetLike=a,this._handleRemoveLike=u,this._handleDeleteBtnClick=c,this.update(r)}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){var e=document.querySelector(this._templateSelector).content.querySelector(".place").cloneNode(!0);return this._imageElement=e.querySelector(".place__image"),this._likeButton=e.querySelector(".place__like-button"),this._deleteButton=e.querySelector(".place__delete-button"),this._likeCounter=e.querySelector(".place__like-counter"),e}},{key:"_setupView",value:function(){this._setupDeleteBtnView(),this._setupLikesView()}},{key:"_setupLikesView",value:function(){this._likedByCurrentUser?this._likeButton.classList.add("place__like-button_active"):this._likeButton.classList.remove("place__like-button_active"),this._likeCounter.textContent=this._likes.length}},{key:"_setupDeleteBtnView",value:function(){this._currentUserId!==this._ownerId&&this._deleteButton.remove()}},{key:"update",value:function(e){var t=this;this._title=e.name,this._image=e.link,this.cardId=e._id,this._ownerId=e.owner._id,this._likes=e.likes,this._likedByCurrentUser=this._likes.some((function(e){return e._id===t._currentUserId})),this._setupView()}},{key:"deleteCard",value:function(){this._element.remove(),delete this._element}},{key:"_setEventListeners",value:function(){var e=this;this._imageElement.addEventListener("click",(function(){e._handleCardClick(e._image,e._title)})),this._likeButton.addEventListener("click",(function(){e._likedByCurrentUser?e._handleRemoveLike(e):e._handleSetLike(e)})),this._deleteButton.addEventListener("click",(function(){e._handleDeleteBtnClick(e)}))}},{key:"getElement",value:function(){return this._setEventListeners(),this._element.querySelector(".place__title").textContent=this._title,this._imageElement.src=this._image,this._imageElement.alt=this._title,this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},t),this._formElement=o,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}var t,i;return t=e,(i=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._settings.inputErrorClass),n.textContent=t,n.classList.add(this._settings.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass),t.textContent=""}},{key:"_resetInputErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButton():(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}},{key:"_disableButton",value:function(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}},{key:"resetValidation",value:function(){this._resetInputErrors(),this._disableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,n=[{key:"addItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this._container.append(e):this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}],n&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__close-button")&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImageLink=t._popup.querySelector(".popup__image"),t._popupImageCaption=t._popup.querySelector(".popup__image-caption"),t}return t=a,(n=[{key:"open",value:function(e,t){this._popupImageLink.src=e,this._popupImageLink.alt=t,this._popupImageCaption.textContent=t,p(_(a.prototype),"open",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=r,t._popupForm=t._popup.querySelector(".popup__form"),t._inputList=t._popupForm.querySelectorAll(".popup__input"),t._submitButton=t._popupForm.querySelector(".popup__submit-button"),t._submitButtonText=t._submitButton.textContent,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formInputValues={},this._inputList.forEach((function(t){e._formInputValues[t.name]=t.value})),this._formInputValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Сохранить...":this._submitButtonText}},{key:"close",value:function(){g(O(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setEventListeners",value:function(){var e=this;g(O(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function B(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(r);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=r,t._popupForm=t._popup.querySelector(".popup__form"),t}return t=a,(n=[{key:"open",value:function(e){P(U(a.prototype),"open",this).call(this),this._card=e}},{key:"setEventListeners",value:function(){var e=this;P(U(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._card),e.close()}))}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=n,this._jobSelector=r,this._avatarSelector=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,about:this._jobSelector.textContent,avatar:this._avatarSelector.src}}},{key:"setUserInfo",value:function(e){this._nameSelector.textContent=e.name,this._jobSelector.textContent=e.about}},{key:"setUserAvatar",value:function(e){this._avatarSelector.src=e.avatar}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserInfoFromApi",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"setlike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A,N=F((function e(t){var n=t.name,r=t.about,o=t.avatar,i=t._id,a=t.cohort;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=n,this.about=r,this.avatar=o,this.id=i,this.cohort=a})),J=document.querySelector(".profile__name"),H=document.querySelector(".profile__about-self"),z=document.querySelector(".profile__avatar"),M=document.querySelector(".places"),G=document.querySelector("#edit-button"),K=document.querySelector("#avatar-button"),Q=document.querySelector("#add-button"),W=new D({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47",headers:{authorization:"9fd8f809-2b73-494b-91df-a3deb101ee29","Content-Type":"application/json"}});W.getUserInfoFromApi().then((function(e){A=new N(e),X.setUserInfo(e),X.setUserAvatar(e)})).catch((function(e){console.log(e)})),W.getInitialCards().then((function(e){ne.renderItems(e)})).catch((function(e){console.log(e)}));var X=new q({nameSelector:J,jobSelector:H,avatarSelector:z}),Y=new j({popupSelector:".popup_type_profile-editor",handleFormSubmit:function(e){Y.renderLoading(!0),W.editUserInfo(e).then((function(e){X.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){Y.renderLoading(!1)}))}});Y.setEventListeners();var Z=new j({popupSelector:".popup_type_avatar-editor",handleFormSubmit:function(e){Z.renderLoading(!0),W.editUserAvatar(e).then((function(e){X.setUserAvatar(e)})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1)}))}});Z.setEventListeners();var $=new b(".popup_type_image-view");$.setEventListeners();var ee=new R({popupSelector:".popup_type_delete-card",handleFormSubmit:function(e){W.deleteCard(e.cardId).then((function(){e.deleteCard(),ee.close()})).catch((function(e){console.log(e)}))}});ee.setEventListeners();var te=function(e){return new t({data:e,templateSelector:"#place-template",handleCardClick:function(e,t){$.open(e,t)},handleSetLike:function(e){console.log("Like"),W.setlike(e.cardId).then((function(t){e.update(t)})).catch((function(e){console.log(e)}))},handleRemoveLike:function(e){console.log("removeLike"),W.removeLike(e.cardId).then((function(t){e.update(t)})).catch((function(e){console.log(e)}))},handleDeleteBtnClick:function(e){ee.open(e)}},A.id).getElement()},ne=new u({renderer:function(e){ne.addItem(te(e))}},M),re=new j({popupSelector:".popup_type_new-place",handleFormSubmit:function(e){re.renderLoading(!0),W.addCard(e).then((function(e){ne.addItem(te(e),!1),re.close()})).catch((function(e){console.log(e)})).finally((function(){re.renderLoading(!1)}))}});re.setEventListeners();var oe,ie={};oe={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(oe.formSelector)).forEach((function(e){var t=new i(oe,e),n=e.getAttribute("name");ie[n]=t,t.enableValidation()})),G.addEventListener("click",(function(){var e=X.getUserInfo();Y.setInputValues(e),ie["profile-edit-form"].resetValidation(),Y.open()})),K.addEventListener("click",(function(){var e=X.getUserInfo();Z.setInputValues(e),ie["avatar-edit-form"].resetValidation(),Z.open()})),Q.addEventListener("click",(function(){ie["new-place-form"].resetValidation(),re.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SixhQUFhLFFBRTFDSixHQUFlRyxHQUFZRCxFQUMzQkEsRUFBVUcsa0JBQ1gsSUFNSDNDLEVBQVcvRyxpQkFBaUIsU0FBUyxXQUNuQyxJQUFNMkosRUFBY3JDLEVBQVlzQyxjQUNoQzNCLEVBQWlCNEIsZUFBZUYsR0FDaENOLEdBQWUscUJBQXFCUyxrQkFDcEM3QixFQUFpQlksTUFDbEIsSUFHRDdCLEVBQWlCaEgsaUJBQWlCLFNBQVMsV0FDekMsSUFBTStKLEVBQWdCekMsRUFBWXNDLGNBQ2xDckIsRUFBZ0JzQixlQUFlRSxHQUMvQlYsR0FBZSxvQkFBb0JTLGtCQUNuQ3ZCLEVBQWdCTSxNQUNqQixJQUdENUIsRUFBVWpILGlCQUFpQixTQUFTLFdBQ2xDcUosR0FBZSxrQkFBa0JTLGtCQUNqQ1osR0FBa0JMLE1BQ25CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXIuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgaGFuZGxlU2V0TGlrZSxcclxuICAgICAgaGFuZGxlUmVtb3ZlTGlrZSxcclxuICAgICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2tcclxuICAgIH0sXHJcbiAgICBjdXJyZW50VXNlcklkXHJcbiAgKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSBjdXJyZW50VXNlcklkO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZVNldExpa2UgPSBoYW5kbGVTZXRMaWtlO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSA9IGhhbmRsZVJlbW92ZUxpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdG5DbGljayA9IGhhbmRsZURlbGV0ZUJ0bkNsaWNrO1xyXG5cclxuICAgIHRoaXMudXBkYXRlKGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/QvtC70YPRh9Cw0LXQvCDRiNCw0LHQu9C+0L0g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2UnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19pbWFnZScpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fbGlrZS1idXR0b24nKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fZGVsZXRlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2xpa2UtY291bnRlcicpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQuCDQvdCw0YHRgtGA0LDQuNCy0LDQtdC8INCy0LjQtCDRjdC70LXQvNC10L3RgtC+0LIg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9zZXR1cFZpZXcoKSB7XHJcbiAgICB0aGlzLl9zZXR1cERlbGV0ZUJ0blZpZXcoKTtcclxuICAgIHRoaXMuX3NldHVwTGlrZXNWaWV3KCk7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBMaWtlc1ZpZXcoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZWRCeUN1cnJlbnRVc2VyKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgncGxhY2VfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZV9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIF9zZXR1cERlbGV0ZUJ0blZpZXcoKSB7XHJcbiAgICBpZiAodGhpcy5fY3VycmVudFVzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24ucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQvtCx0L3QvtCy0LvRj9C10YIg0LTQsNC90L3Ri9C1INC+INC60LDRgNGC0L7Rh9C60LVcclxuXHJcbiAgdXBkYXRlKGRhdGEpIHtcclxuICAgIHRoaXMuX3RpdGxlID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLmNhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG5cclxuICAgIHRoaXMuX2xpa2VkQnlDdXJyZW50VXNlciA9IHRoaXMuX2xpa2VzLnNvbWUodXNlciA9PiB7XHJcbiAgICAgIHJldHVybiB1c2VyLl9pZCA9PT0gdGhpcy5fY3VycmVudFVzZXJJZDtcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5fc2V0dXBWaWV3KCk7XHJcbiAgfVxyXG5cclxuICAvLyDQvNC10YLQvtC0INGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIGRlbGV0ZSB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgdC+0LHRi9GC0LjQuVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5faW1hZ2UsIHRoaXMuX3RpdGxlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciAoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5fbGlrZWRCeUN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSh0aGlzKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVNldExpa2UodGhpcylcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIgKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC60LDRgNGC0L7Rh9C60YNcclxuXHJcbiAgZ2V0RWxlbWVudCgpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fc2V0dGluZ3MgPSB7Li4uc2V0dGluZ3N9O1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH07XHJcblxyXG4gIF9yZXNldElucHV0RXJyb3JzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3Jlc2V0SW5wdXRFcnJvcnMoKTtcclxuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCwgZGlyZWN0aW9uID0gdHJ1ZSkge1xyXG4gICAgaWYgKGRpcmVjdGlvbikge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlTGluayA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGltYWdlLCB0aXRsZSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZUxpbmsuc3JjID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlTGluay5hbHQgPSB0aXRsZTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0fSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idXR0b24nKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybUlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1JbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwuLi4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhEZWxldGVDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICB9XHJcblxyXG4gIG9wZW4oY2FyZCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9jYXJkKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yfSkge1xyXG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yID0gbmFtZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fam9iU2VsZWN0b3IgPSBqb2JTZWxlY3RvcjtcclxuICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gYXZhdGFyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICAvLyDQstC+0LfQstGA0LDRgtC40YLRjCDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VySW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fam9iU2VsZWN0b3IudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyU2VsZWN0b3Iuc3JjLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB1c2VySW5mbztcclxuICB9XHJcblxyXG4gIC8vINC/0YDQuNC90LjQvNCw0LXRgiDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC40YUg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fam9iU2VsZWN0b3IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihkYXRhKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLSDQn9Ce0JvQrNCX0J7QktCQ0KLQldCb0KwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyAxLiDQl9Cw0LPRgNGD0LfQutCwINC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsFxyXG5cclxuICBnZXRVc2VySW5mb0Zyb21BcGkoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIDMuINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuXHJcbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA5LiDQntCx0L3QvtCy0LvQtdC90LjQtSDQsNCy0LDRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuXHJcbiAgZWRpdFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4vLyAtLS0tINCa0JDQoNCi0J7Qp9Ca0JggLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gMi4g0JfQsNCz0YDRg9C30LrQsCDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gNC4g0JTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcblxyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIDcuINCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gOC4g0J/QvtGB0YLQsNC90L7QstC60LAg0Lgg0YHQvdGP0YLQuNC1INC70LDQudC60LBcclxuXHJcbiAgc2V0bGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZHMuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhEZWxldGVDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGVDb25maXJtYXRpb24nO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9jb21wb25lbnRzL1VzZXInO1xyXG5cclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZUpvYixcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIHBsYWNlc0NvbnRhaW5lcixcclxuICBlZGl0QnV0dG9uLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgYWRkQnV0dG9uXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ3JyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnOWZkOGY4MDktMmI3My00OTRiLTkxZGYtYTNkZWIxMDFlZTI5JyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG5cclxubGV0IGN1cnJlbnRVc2VyO1xyXG5cclxuLy8g0JfQkNCT0KDQo9CX0JrQkCDQmNCd0KTQntCg0JzQkNCm0JjQmCDQniDQn9Ce0JvQrNCX0J7QktCQ0KLQldCb0JVcclxuYXBpLmdldFVzZXJJbmZvRnJvbUFwaSgpXHJcbiAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICBjdXJyZW50VXNlciA9IG5ldyBVc2VyKHVzZXJJbmZvKTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJBdmF0YXIodXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4vLyDQl9CQ0JPQoNCj0JfQmtCQINCd0JDQp9CQ0JvQrNCd0KvQpSDQmtCQ0KDQotCe0KfQldCaXHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChpbml0aWFsQ2FyZHMpID0+IHtcclxuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWUsXHJcbiAgICBqb2JTZWxlY3RvcjogcHJvZmlsZUpvYixcclxuICAgIGF2YXRhclNlbGVjdG9yOiBwcm9maWxlQXZhdGFyXHJcbiAgfVxyXG4pO1xyXG5cclxuLy8g0J/QntCf0JDQnyDQoNCV0JTQkNCa0KLQmNCg0J7QktCQ0J3QmNCvINCU0JDQndCd0KvQpSDQn9Cg0J7QpNCY0JvQr1xyXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX3Byb2ZpbGUtZWRpdG9yJyxcclxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgYXBpLmVkaXRVc2VySW5mbyhkYXRhKVxyXG4gICAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgICAgICAgLy8gZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICBlZGl0UHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxuXHJcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCf0J7Qn9CQ0J8g0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQryDQkNCS0JDQotCQ0KDQkCDQn9Cg0J7QpNCY0JvQr1xyXG5jb25zdCBlZGl0QXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2F2YXRhci1lZGl0b3InLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBlZGl0QXZhdGFyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGFwaS5lZGl0VXNlckF2YXRhcihkYXRhKVxyXG4gICAgICAudGhlbigodXNlckRhdGEpID0+IHtcclxuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhKTtcclxuICAgICAgICAvLyBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGVkaXRBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbik7XHJcblxyXG5lZGl0QXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCf0J7Qn9CQ0J8g0J/QoNCe0KHQnNCe0KLQoNCQINCY0JfQntCR0KDQkNCW0JXQndCY0K9cclxuY29uc3Qgdmlld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlLXZpZXcnKTtcclxuXHJcbnZpZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQn9Ce0J/QkNCfINCj0JTQkNCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmFxyXG5jb25zdCBkZWxldGVDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRGVsZXRlQ29uZmlybWF0aW9uKHtcclxuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmQnLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChjYXJkKSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLmNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCh0J7Ql9CU0JDQndCY0JUg0JrQkNCg0KLQntCn0JrQmFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQgKHtcclxuICAgIGRhdGE6IGl0ZW0sXHJcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yOiAnI3BsYWNlLXRlbXBsYXRlJyxcclxuICAgIGhhbmRsZUNhcmRDbGljazogKGltYWdlLCB0aXRsZSkgPT4ge1xyXG4gICAgICB2aWV3SW1hZ2VQb3B1cC5vcGVuKGltYWdlLCB0aXRsZSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2V0TGlrZTogKGNhcmQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0xpa2UnKTtcclxuICAgICAgYXBpLnNldGxpa2UoY2FyZC5jYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNhcmQudXBkYXRlKGRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUmVtb3ZlTGlrZTogKGNhcmQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ3JlbW92ZUxpa2UnKTtcclxuICAgICAgYXBpLnJlbW92ZUxpa2UoY2FyZC5jYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIGNhcmQudXBkYXRlKGRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2s6IChjYXJkKSA9PiB7XHJcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmQpO1xyXG4gICAgfSxcclxuICB9LCBjdXJyZW50VXNlci5pZCk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdldEVsZW1lbnQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07XHJcblxyXG4vLyDQodCe0JfQlNCQ0J3QmNCVINCt0JrQl9CV0JzQn9Cb0K/QoNCQIFNlY3Rpb25cclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGxhY2VzQ29udGFpbmVyXHJcbik7XHJcblxyXG4vLyDQn9Ce0J/QkNCfINCU0J7QkdCQ0JLQm9CV0J3QmNCvINCa0JDQoNCi0J7Qp9Ca0JhcclxuY29uc3QgbmV3UGxhY2VDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfbmV3LXBsYWNlJyxcclxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChpdGVtKSA9PiB7XHJcbiAgICAgIG5ld1BsYWNlQ2FyZFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGFwaS5hZGRDYXJkKGl0ZW0pXHJcbiAgICAgICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSwgZmFsc2UpO1xyXG4gICAgICAgICAgbmV3UGxhY2VDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgbmV3UGxhY2VDYXJkUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxubmV3UGxhY2VDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCS0JDQm9CY0JTQkNCm0JjQryDQpNCe0KDQnFxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHNldHRpbmdzKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuZm9ybVNlbGVjdG9yKSk7XHJcblxyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuXHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uU2V0dGluZ3MpO1xyXG5cclxuLy8g0J7QotCa0KDQq9Ci0JjQlSDQpNCe0KDQnNCrINCg0JXQlNCQ0JrQotCY0KDQntCS0JDQndCY0K8g0JTQkNCd0J3Qq9ClINCf0KDQntCk0JjQm9CvXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBjb25zdCBpbml0aWFsSW5mbyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyhpbml0aWFsSW5mbyk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtZWRpdC1mb3JtJ10ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8g0J7QotCa0KDQq9Ci0JjQlSDQpNCe0KDQnNCrINCg0JXQlNCQ0JrQotCY0KDQntCS0JDQndCY0K8g0JDQktCQ0KLQkNCg0JAg0J/QoNCe0KTQmNCb0K9cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IGluaXRpYWxBdmF0YXIgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGVkaXRBdmF0YXJQb3B1cC5zZXRJbnB1dFZhbHVlcyhpbml0aWFsQXZhdGFyKTtcclxuICBmb3JtVmFsaWRhdG9yc1snYXZhdGFyLWVkaXQtZm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8g0J7QotCa0KDQq9Ci0JjQlSDQpNCe0KDQnNCrINCh0J7Ql9CU0JDQndCY0K8g0JrQkNCg0KLQntCn0JrQmFxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBmb3JtVmFsaWRhdG9yc1snbmV3LXBsYWNlLWZvcm0nXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBuZXdQbGFjZUNhcmRQb3B1cC5vcGVuKCk7XHJcbn0pOyIsIi8vINCa0LvQsNGB0YEt0LzQvtC00LXQu9GMXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkLCBjb2hvcnR9KSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5hYm91dCA9IGFib3V0O1xyXG4gICAgdGhpcy5hdmF0YXIgPSBhdmF0YXI7XHJcbiAgICB0aGlzLmlkID0gX2lkO1xyXG4gICAgdGhpcy5jb2hvcnQgPSBjb2hvcnQ7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBUbyBkbzog0YHQtNC10LvQsNGC0Ywg0L/RgNC+0LLQtdGA0LrRgyDQstGF0L7QtNC90YvRhSDQtNCw0L3QvdGL0YUsIiwiY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQtYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbn07XHJcblxyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XHJcbmNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQtc2VsZicpO1xyXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5cclxuY29uc3QgcGxhY2VzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5wbGFjZXMnKTtcclxuXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdC1idXR0b24nKTtcclxuY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdmF0YXItYnV0dG9uJyk7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtYnV0dG9uJyk7XHJcblxyXG5leHBvcnQge1xyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlSm9iLFxyXG4gIHByb2ZpbGVBdmF0YXIsXHJcbiAgcGxhY2VzQ29udGFpbmVyLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgYXZhdGFyRWRpdEJ1dHRvbixcclxuICBhZGRCdXR0b25cclxufSJdLCJuYW1lcyI6WyJDYXJkIiwiY3VycmVudFVzZXJJZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlU2V0TGlrZSIsImhhbmRsZVJlbW92ZUxpa2UiLCJoYW5kbGVEZWxldGVCdG5DbGljayIsInRoaXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2N1cnJlbnRVc2VySWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVNldExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsIl9oYW5kbGVEZWxldGVCdG5DbGljayIsInVwZGF0ZSIsImNhcmRFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9pbWFnZUVsZW1lbnQiLCJfbGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJfbGlrZUNvdW50ZXIiLCJfc2V0dXBEZWxldGVCdG5WaWV3IiwiX3NldHVwTGlrZXNWaWV3IiwiX2xpa2VkQnlDdXJyZW50VXNlciIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInRleHRDb250ZW50IiwiX2xpa2VzIiwibGVuZ3RoIiwiX293bmVySWQiLCJfdGl0bGUiLCJuYW1lIiwiX2ltYWdlIiwibGluayIsImNhcmRJZCIsIl9pZCIsIm93bmVyIiwibGlrZXMiLCJzb21lIiwidXNlciIsIl9zZXR1cFZpZXciLCJhZGRFdmVudExpc3RlbmVyIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJmb3JFYWNoIiwiZWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZUJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9yZXNldElucHV0RXJyb3JzIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRpcmVjdGlvbiIsImFwcGVuZCIsInByZXBlbmQiLCJpdGVtcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlTGluayIsIl9wb3B1cEltYWdlQ2FwdGlvbiIsImltYWdlIiwidGl0bGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zdWJtaXRCdXR0b25UZXh0IiwiX2Zvcm1JbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJpc0xvYWRpbmciLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoRGVsZXRlQ29uZmlybWF0aW9uIiwiY2FyZCIsIl9jYXJkIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVTZWxlY3RvciIsIl9qb2JTZWxlY3RvciIsIl9hdmF0YXJTZWxlY3RvciIsImFib3V0IiwiYXZhdGFyIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImN1cnJlbnRVc2VyIiwiVXNlciIsImNvaG9ydCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsInByb2ZpbGVBdmF0YXIiLCJwbGFjZXNDb250YWluZXIiLCJlZGl0QnV0dG9uIiwiYXZhdGFyRWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJnZXRVc2VySW5mb0Zyb21BcGkiLCJ1c2VySW5mbyIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJzZXRVc2VyQXZhdGFyIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW5pdGlhbENhcmRzIiwiY2FyZHNMaXN0IiwicmVuZGVySXRlbXMiLCJlZGl0UHJvZmlsZVBvcHVwIiwicmVuZGVyTG9hZGluZyIsImVkaXRVc2VySW5mbyIsInVzZXJEYXRhIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZWRpdEF2YXRhclBvcHVwIiwiZWRpdFVzZXJBdmF0YXIiLCJ2aWV3SW1hZ2VQb3B1cCIsImRlbGV0ZUNhcmRQb3B1cCIsImRlbGV0ZUNhcmQiLCJjcmVhdGVDYXJkIiwib3BlbiIsInNldGxpa2UiLCJyZW1vdmVMaWtlIiwiZ2V0RWxlbWVudCIsImFkZEl0ZW0iLCJuZXdQbGFjZUNhcmRQb3B1cCIsImFkZENhcmQiLCJjYXJkRGF0YSIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiaW5pdGlhbEluZm8iLCJnZXRVc2VySW5mbyIsInNldElucHV0VmFsdWVzIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5pdGlhbEF2YXRhciJdLCJzb3VyY2VSb290IjoiIn0=